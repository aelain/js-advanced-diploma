(()=>{"use strict";var t={9306:(t,e,r)=>{var a=r(4901),s=r(6823),n=TypeError;t.exports=function(t){if(a(t))return t;throw new n(s(t)+" is not a function")}},679:(t,e,r)=>{var a=r(1625),s=TypeError;t.exports=function(t,e){if(a(e,t))return t;throw new s("Incorrect invocation")}},8551:(t,e,r)=>{var a=r(34),s=String,n=TypeError;t.exports=function(t){if(a(t))return t;throw new n(s(t)+" is not an object")}},9617:(t,e,r)=>{var a=r(5397),s=r(5610),n=r(6198),i=function(t){return function(e,r,i){var o=a(e),l=n(o);if(0===l)return!t&&-1;var c,h=s(i,l);if(t&&r!=r){for(;l>h;)if((c=o[h++])!=c)return!0}else for(;l>h;h++)if((t||h in o)&&o[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},6319:(t,e,r)=>{var a=r(8551),s=r(9539);t.exports=function(t,e,r,n){try{return n?e(a(r)[0],r[1]):e(r)}catch(e){s(t,"throw",e)}}},2195:(t,e,r)=>{var a=r(9504),s=a({}.toString),n=a("".slice);t.exports=function(t){return n(s(t),8,-1)}},6955:(t,e,r)=>{var a=r(2140),s=r(4901),n=r(2195),i=r(8227)("toStringTag"),o=Object,l="Arguments"===n(function(){return arguments}());t.exports=a?n:function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=o(t),i))?r:l?n(e):"Object"===(a=n(e))&&s(e.callee)?"Arguments":a}},7740:(t,e,r)=>{var a=r(9297),s=r(5031),n=r(7347),i=r(4913);t.exports=function(t,e,r){for(var o=s(e),l=i.f,c=n.f,h=0;h<o.length;h++){var u=o[h];a(t,u)||r&&a(r,u)||l(t,u,c(e,u))}}},2211:(t,e,r)=>{var a=r(9039);t.exports=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2529:t=>{t.exports=function(t,e){return{value:t,done:e}}},6699:(t,e,r)=>{var a=r(3724),s=r(4913),n=r(6980);t.exports=a?function(t,e,r){return s.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},6980:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4659:(t,e,r)=>{var a=r(3724),s=r(4913),n=r(6980);t.exports=function(t,e,r){a?s.f(t,e,n(0,r)):t[e]=r}},2106:(t,e,r)=>{var a=r(283),s=r(4913);t.exports=function(t,e,r){return r.get&&a(r.get,e,{getter:!0}),r.set&&a(r.set,e,{setter:!0}),s.f(t,e,r)}},6840:(t,e,r)=>{var a=r(4901),s=r(4913),n=r(283),i=r(9433);t.exports=function(t,e,r,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:e;if(a(r)&&n(r,c,o),o.global)l?t[e]=r:i(e,r);else{try{o.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=r:s.f(t,e,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},6279:(t,e,r)=>{var a=r(6840);t.exports=function(t,e,r){for(var s in e)a(t,s,e[s],r);return t}},9433:(t,e,r)=>{var a=r(4576),s=Object.defineProperty;t.exports=function(t,e){try{s(a,t,{value:e,configurable:!0,writable:!0})}catch(r){a[t]=e}return e}},3724:(t,e,r)=>{var a=r(9039);t.exports=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:(t,e,r)=>{var a=r(4576),s=r(34),n=a.document,i=s(n)&&s(n.createElement);t.exports=function(t){return i?n.createElement(t):{}}},8727:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:(t,e,r)=>{var a=r(4576).navigator,s=a&&a.userAgent;t.exports=s?String(s):""},9519:(t,e,r)=>{var a,s,n=r(4576),i=r(2839),o=n.process,l=n.Deno,c=o&&o.versions||l&&l.version,h=c&&c.v8;h&&(s=(a=h.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&i&&(!(a=i.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=i.match(/Chrome\/(\d+)/))&&(s=+a[1]),t.exports=s},6518:(t,e,r)=>{var a=r(4576),s=r(7347).f,n=r(6699),i=r(6840),o=r(9433),l=r(7740),c=r(2796);t.exports=function(t,e){var r,h,u,d,f,p=t.target,m=t.global,v=t.stat;if(r=m?a:v?a[p]||o(p,{}):a[p]&&a[p].prototype)for(h in e){if(d=e[h],u=t.dontCallGetSet?(f=s(r,h))&&f.value:r[h],!c(m?h:p+(v?".":"#")+h,t.forced)&&void 0!==u){if(typeof d==typeof u)continue;l(d,u)}(t.sham||u&&u.sham)&&n(d,"sham",!0),i(r,h,d,t)}}},9039:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},6080:(t,e,r)=>{var a=r(7476),s=r(9306),n=r(616),i=a(a.bind);t.exports=function(t,e){return s(t),void 0===e?t:n?i(t,e):function(){return t.apply(e,arguments)}}},616:(t,e,r)=>{var a=r(9039);t.exports=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:(t,e,r)=>{var a=r(616),s=Function.prototype.call;t.exports=a?s.bind(s):function(){return s.apply(s,arguments)}},350:(t,e,r)=>{var a=r(3724),s=r(9297),n=Function.prototype,i=a&&Object.getOwnPropertyDescriptor,o=s(n,"name"),l=o&&"something"===function(){}.name,c=o&&(!a||a&&i(n,"name").configurable);t.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},7476:(t,e,r)=>{var a=r(2195),s=r(9504);t.exports=function(t){if("Function"===a(t))return s(t)}},9504:(t,e,r)=>{var a=r(616),s=Function.prototype,n=s.call,i=a&&s.bind.bind(n,n);t.exports=a?i:function(t){return function(){return n.apply(t,arguments)}}},7751:(t,e,r)=>{var a=r(4576),s=r(4901);t.exports=function(t,e){return arguments.length<2?(r=a[t],s(r)?r:void 0):a[t]&&a[t][e];var r}},1767:t=>{t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},851:(t,e,r)=>{var a=r(6955),s=r(5966),n=r(4117),i=r(6269),o=r(8227)("iterator");t.exports=function(t){if(!n(t))return s(t,o)||s(t,"@@iterator")||i[a(t)]}},81:(t,e,r)=>{var a=r(9565),s=r(9306),n=r(8551),i=r(6823),o=r(851),l=TypeError;t.exports=function(t,e){var r=arguments.length<2?o(t):e;if(s(r))return n(a(r,t));throw new l(i(t)+" is not iterable")}},5966:(t,e,r)=>{var a=r(9306),s=r(4117);t.exports=function(t,e){var r=t[e];return s(r)?void 0:a(r)}},4576:function(t,e,r){var a=function(t){return t&&t.Math===Math&&t};t.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof r.g&&r.g)||a("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(t,e,r)=>{var a=r(9504),s=r(8981),n=a({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return n(s(t),e)}},421:t=>{t.exports={}},397:(t,e,r)=>{var a=r(7751);t.exports=a("document","documentElement")},5917:(t,e,r)=>{var a=r(3724),s=r(9039),n=r(4055);t.exports=!a&&!s((function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},7055:(t,e,r)=>{var a=r(9504),s=r(9039),n=r(2195),i=Object,o=a("".split);t.exports=s((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===n(t)?o(t,""):i(t)}:i},3706:(t,e,r)=>{var a=r(9504),s=r(4901),n=r(7629),i=a(Function.toString);s(n.inspectSource)||(n.inspectSource=function(t){return i(t)}),t.exports=n.inspectSource},1181:(t,e,r)=>{var a,s,n,i=r(8622),o=r(4576),l=r(34),c=r(6699),h=r(9297),u=r(7629),d=r(6119),f=r(421),p="Object already initialized",m=o.TypeError,v=o.WeakMap;if(i||u.state){var y=u.state||(u.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,a=function(t,e){if(y.has(t))throw new m(p);return e.facade=t,y.set(t,e),e},s=function(t){return y.get(t)||{}},n=function(t){return y.has(t)}}else{var g=d("state");f[g]=!0,a=function(t,e){if(h(t,g))throw new m(p);return e.facade=t,c(t,g,e),e},s=function(t){return h(t,g)?t[g]:{}},n=function(t){return h(t,g)}}t.exports={set:a,get:s,has:n,enforce:function(t){return n(t)?s(t):a(t,{})},getterFor:function(t){return function(e){var r;if(!l(e)||(r=s(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return r}}}},4209:(t,e,r)=>{var a=r(8227),s=r(6269),n=a("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(s.Array===t||i[n]===t)}},4901:t=>{var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:(t,e,r)=>{var a=r(9039),s=r(4901),n=/#|\.prototype\./,i=function(t,e){var r=l[o(t)];return r===h||r!==c&&(s(e)?a(e):!!e)},o=i.normalize=function(t){return String(t).replace(n,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",h=i.POLYFILL="P";t.exports=i},4117:t=>{t.exports=function(t){return null==t}},34:(t,e,r)=>{var a=r(4901);t.exports=function(t){return"object"==typeof t?null!==t:a(t)}},6395:t=>{t.exports=!1},757:(t,e,r)=>{var a=r(7751),s=r(4901),n=r(1625),i=r(7040),o=Object;t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=a("Symbol");return s(e)&&n(e.prototype,o(t))}},2652:(t,e,r)=>{var a=r(6080),s=r(9565),n=r(8551),i=r(6823),o=r(4209),l=r(6198),c=r(1625),h=r(81),u=r(851),d=r(9539),f=TypeError,p=function(t,e){this.stopped=t,this.result=e},m=p.prototype;t.exports=function(t,e,r){var v,y,g,b,C,w,P,x=r&&r.that,E=!(!r||!r.AS_ENTRIES),L=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),k=!(!r||!r.INTERRUPTED),O=a(e,x),T=function(t){return v&&d(v,"normal",t),new p(!0,t)},M=function(t){return E?(n(t),k?O(t[0],t[1],T):O(t[0],t[1])):k?O(t,T):O(t)};if(L)v=t.iterator;else if(S)v=t;else{if(!(y=u(t)))throw new f(i(t)+" is not iterable");if(o(y)){for(g=0,b=l(t);b>g;g++)if((C=M(t[g]))&&c(m,C))return C;return new p(!1)}v=h(t,y)}for(w=L?t.next:v.next;!(P=s(w,v)).done;){try{C=M(P.value)}catch(t){d(v,"throw",t)}if("object"==typeof C&&C&&c(m,C))return C}return new p(!1)}},9539:(t,e,r)=>{var a=r(9565),s=r(8551),n=r(5966);t.exports=function(t,e,r){var i,o;s(t);try{if(!(i=n(t,"return"))){if("throw"===e)throw r;return r}i=a(i,t)}catch(t){o=!0,i=t}if("throw"===e)throw r;if(o)throw i;return s(i),r}},9462:(t,e,r)=>{var a=r(9565),s=r(2360),n=r(6699),i=r(6279),o=r(8227),l=r(1181),c=r(5966),h=r(7657).IteratorPrototype,u=r(2529),d=r(9539),f=o("toStringTag"),p="IteratorHelper",m="WrapForValidIterator",v=l.set,y=function(t){var e=l.getterFor(t?m:p);return i(s(h),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return u(void 0,!0);try{var a=r.nextHandler();return r.returnHandlerResult?a:u(a,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),s=r.iterator;if(r.done=!0,t){var n=c(s,"return");return n?a(n,s):u(void 0,!0)}if(r.inner)try{d(r.inner.iterator,"normal")}catch(t){return d(s,"throw",t)}return s&&d(s,"normal"),u(void 0,!0)}})},g=y(!0),b=y(!1);n(b,f,"Iterator Helper"),t.exports=function(t,e,r){var a=function(a,s){s?(s.iterator=a.iterator,s.next=a.next):s=a,s.type=e?m:p,s.returnHandlerResult=!!r,s.nextHandler=t,s.counter=0,s.done=!1,v(this,s)};return a.prototype=e?g:b,a}},713:(t,e,r)=>{var a=r(9565),s=r(9306),n=r(8551),i=r(1767),o=r(9462),l=r(6319),c=o((function(){var t=this.iterator,e=n(a(this.next,t));if(!(this.done=!!e.done))return l(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return n(this),s(t),new c(i(this),{mapper:t})}},7657:(t,e,r)=>{var a,s,n,i=r(9039),o=r(4901),l=r(34),c=r(2360),h=r(2787),u=r(6840),d=r(8227),f=r(6395),p=d("iterator"),m=!1;[].keys&&("next"in(n=[].keys())?(s=h(h(n)))!==Object.prototype&&(a=s):m=!0),!l(a)||i((function(){var t={};return a[p].call(t)!==t}))?a={}:f&&(a=c(a)),o(a[p])||u(a,p,(function(){return this})),t.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:m}},6269:t=>{t.exports={}},6198:(t,e,r)=>{var a=r(8014);t.exports=function(t){return a(t.length)}},283:(t,e,r)=>{var a=r(9504),s=r(9039),n=r(4901),i=r(9297),o=r(3724),l=r(350).CONFIGURABLE,c=r(3706),h=r(1181),u=h.enforce,d=h.get,f=String,p=Object.defineProperty,m=a("".slice),v=a("".replace),y=a([].join),g=o&&!s((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),C=t.exports=function(t,e,r){"Symbol("===m(f(e),0,7)&&(e="["+v(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!i(t,"name")||l&&t.name!==e)&&(o?p(t,"name",{value:e,configurable:!0}):t.name=e),g&&r&&i(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?o&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var a=u(t);return i(a,"source")||(a.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=C((function(){return n(this)&&d(this).source||c(this)}),"toString")},741:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var a=+t;return(a>0?r:e)(a)}},2360:(t,e,r)=>{var a,s=r(8551),n=r(6801),i=r(8727),o=r(421),l=r(397),c=r(4055),h=r(6119),u="prototype",d="script",f=h("IE_PROTO"),p=function(){},m=function(t){return"<"+d+">"+t+"</"+d+">"},v=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{a=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;y="undefined"!=typeof document?document.domain&&a?v(a):(e=c("iframe"),r="java"+d+":",e.style.display="none",l.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):v(a);for(var s=i.length;s--;)delete y[u][i[s]];return y()};o[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[u]=s(t),r=new p,p[u]=null,r[f]=t):r=y(),void 0===e?r:n.f(r,e)}},6801:(t,e,r)=>{var a=r(3724),s=r(8686),n=r(4913),i=r(8551),o=r(5397),l=r(1072);e.f=a&&!s?Object.defineProperties:function(t,e){i(t);for(var r,a=o(e),s=l(e),c=s.length,h=0;c>h;)n.f(t,r=s[h++],a[r]);return t}},4913:(t,e,r)=>{var a=r(3724),s=r(5917),n=r(8686),i=r(8551),o=r(6969),l=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,u="enumerable",d="configurable",f="writable";e.f=a?n?function(t,e,r){if(i(t),e=o(e),i(r),"function"==typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var a=h(t,e);a&&a[f]&&(t[e]=r.value,r={configurable:d in r?r[d]:a[d],enumerable:u in r?r[u]:a[u],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(i(t),e=o(e),i(r),s)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new l("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},7347:(t,e,r)=>{var a=r(3724),s=r(9565),n=r(8773),i=r(6980),o=r(5397),l=r(6969),c=r(9297),h=r(5917),u=Object.getOwnPropertyDescriptor;e.f=a?u:function(t,e){if(t=o(t),e=l(e),h)try{return u(t,e)}catch(t){}if(c(t,e))return i(!s(n.f,t,e),t[e])}},8480:(t,e,r)=>{var a=r(1828),s=r(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,s)}},3717:(t,e)=>{e.f=Object.getOwnPropertySymbols},2787:(t,e,r)=>{var a=r(9297),s=r(4901),n=r(8981),i=r(6119),o=r(2211),l=i("IE_PROTO"),c=Object,h=c.prototype;t.exports=o?c.getPrototypeOf:function(t){var e=n(t);if(a(e,l))return e[l];var r=e.constructor;return s(r)&&e instanceof r?r.prototype:e instanceof c?h:null}},1625:(t,e,r)=>{var a=r(9504);t.exports=a({}.isPrototypeOf)},1828:(t,e,r)=>{var a=r(9504),s=r(9297),n=r(5397),i=r(9617).indexOf,o=r(421),l=a([].push);t.exports=function(t,e){var r,a=n(t),c=0,h=[];for(r in a)!s(o,r)&&s(a,r)&&l(h,r);for(;e.length>c;)s(a,r=e[c++])&&(~i(h,r)||l(h,r));return h}},1072:(t,e,r)=>{var a=r(1828),s=r(8727);t.exports=Object.keys||function(t){return a(t,s)}},8773:(t,e)=>{var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,s=a&&!r.call({1:2},1);e.f=s?function(t){var e=a(this,t);return!!e&&e.enumerable}:r},4270:(t,e,r)=>{var a=r(9565),s=r(4901),n=r(34),i=TypeError;t.exports=function(t,e){var r,o;if("string"===e&&s(r=t.toString)&&!n(o=a(r,t)))return o;if(s(r=t.valueOf)&&!n(o=a(r,t)))return o;if("string"!==e&&s(r=t.toString)&&!n(o=a(r,t)))return o;throw new i("Can't convert object to primitive value")}},5031:(t,e,r)=>{var a=r(7751),s=r(9504),n=r(8480),i=r(3717),o=r(8551),l=s([].concat);t.exports=a("Reflect","ownKeys")||function(t){var e=n.f(o(t)),r=i.f;return r?l(e,r(t)):e}},7750:(t,e,r)=>{var a=r(4117),s=TypeError;t.exports=function(t){if(a(t))throw new s("Can't call method on "+t);return t}},6119:(t,e,r)=>{var a=r(5745),s=r(3392),n=a("keys");t.exports=function(t){return n[t]||(n[t]=s(t))}},7629:(t,e,r)=>{var a=r(6395),s=r(4576),n=r(9433),i="__core-js_shared__",o=t.exports=s[i]||n(i,{});(o.versions||(o.versions=[])).push({version:"3.40.0",mode:a?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(t,e,r)=>{var a=r(7629);t.exports=function(t,e){return a[t]||(a[t]=e||{})}},4495:(t,e,r)=>{var a=r(9519),s=r(9039),n=r(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!s((function(){var t=Symbol("symbol detection");return!n(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},5610:(t,e,r)=>{var a=r(1291),s=Math.max,n=Math.min;t.exports=function(t,e){var r=a(t);return r<0?s(r+e,0):n(r,e)}},5397:(t,e,r)=>{var a=r(7055),s=r(7750);t.exports=function(t){return a(s(t))}},1291:(t,e,r)=>{var a=r(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:a(e)}},8014:(t,e,r)=>{var a=r(1291),s=Math.min;t.exports=function(t){var e=a(t);return e>0?s(e,9007199254740991):0}},8981:(t,e,r)=>{var a=r(7750),s=Object;t.exports=function(t){return s(a(t))}},2777:(t,e,r)=>{var a=r(9565),s=r(34),n=r(757),i=r(5966),o=r(4270),l=r(8227),c=TypeError,h=l("toPrimitive");t.exports=function(t,e){if(!s(t)||n(t))return t;var r,l=i(t,h);if(l){if(void 0===e&&(e="default"),r=a(l,t,e),!s(r)||n(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},6969:(t,e,r)=>{var a=r(2777),s=r(757);t.exports=function(t){var e=a(t,"string");return s(e)?e:e+""}},2140:(t,e,r)=>{var a={};a[r(8227)("toStringTag")]="z",t.exports="[object z]"===String(a)},6823:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},3392:(t,e,r)=>{var a=r(9504),s=0,n=Math.random(),i=a(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++s+n,36)}},7040:(t,e,r)=>{var a=r(4495);t.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(t,e,r)=>{var a=r(3724),s=r(9039);t.exports=a&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:(t,e,r)=>{var a=r(4576),s=r(4901),n=a.WeakMap;t.exports=s(n)&&/native code/.test(String(n))},8227:(t,e,r)=>{var a=r(4576),s=r(5745),n=r(9297),i=r(3392),o=r(4495),l=r(7040),c=a.Symbol,h=s("wks"),u=l?c.for||c:c&&c.withoutSetter||i;t.exports=function(t){return n(h,t)||(h[t]=o&&n(c,t)?c[t]:u("Symbol."+t)),h[t]}},8111:(t,e,r)=>{var a=r(6518),s=r(4576),n=r(679),i=r(8551),o=r(4901),l=r(2787),c=r(2106),h=r(4659),u=r(9039),d=r(9297),f=r(8227),p=r(7657).IteratorPrototype,m=r(3724),v=r(6395),y="constructor",g="Iterator",b=f("toStringTag"),C=TypeError,w=s[g],P=v||!o(w)||w.prototype!==p||!u((function(){w({})})),x=function(){if(n(this,p),l(this)===p)throw new C("Abstract class Iterator not directly constructable")},E=function(t,e){m?c(p,t,{configurable:!0,get:function(){return e},set:function(e){if(i(this),this===p)throw new C("You can't redefine this property");d(this,t)?this[t]=e:h(this,t,e)}}):p[t]=e};d(p,b)||E(b,g),!P&&d(p,y)&&p[y]!==Object||E(y,x),x.prototype=p,a({global:!0,constructor:!0,forced:P},{Iterator:x})},2489:(t,e,r)=>{var a=r(6518),s=r(9565),n=r(9306),i=r(8551),o=r(1767),l=r(9462),c=r(6319),h=r(6395),u=l((function(){for(var t,e,r=this.iterator,a=this.predicate,n=this.next;;){if(t=i(s(n,r)),this.done=!!t.done)return;if(e=t.value,c(r,a,[e,this.counter++],!0))return e}}));a({target:"Iterator",proto:!0,real:!0,forced:h},{filter:function(t){return i(this),n(t),new u(o(this),{predicate:t})}})},116:(t,e,r)=>{var a=r(6518),s=r(2652),n=r(9306),i=r(8551),o=r(1767);a({target:"Iterator",proto:!0,real:!0},{find:function(t){i(this),n(t);var e=o(this),r=0;return s(e,(function(e,a){if(t(e,r++))return a(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7588:(t,e,r)=>{var a=r(6518),s=r(2652),n=r(9306),i=r(8551),o=r(1767);a({target:"Iterator",proto:!0,real:!0},{forEach:function(t){i(this),n(t);var e=o(this),r=0;s(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},1701:(t,e,r)=>{var a=r(6518),s=r(713);a({target:"Iterator",proto:!0,real:!0,forced:r(6395)},{map:s})},3579:(t,e,r)=>{var a=r(6518),s=r(2652),n=r(9306),i=r(8551),o=r(1767);a({target:"Iterator",proto:!0,real:!0},{some:function(t){i(this),n(t);var e=o(this),r=0;return s(e,(function(e,a){if(t(e,r++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},8992:(t,e,r)=>{r(8111)},4520:(t,e,r)=>{r(2489)},2577:(t,e,r)=>{r(116)},3949:(t,e,r)=>{r(7588)},1454:(t,e,r)=>{r(1701)},7550:(t,e,r)=>{r(3579)}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,r),n.exports}function a(t,e){const r=e**2-1,a=r-e+1;return 0===t?"top-left":t>0&&t<e-1?"top":t===e-1?"top-right":t===a?"bottom-left":t===r?"bottom-right":t>a&&t<r?"bottom":t%e==e-1?"right":t%e==0?"left":"center"}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(8992),r(4520),r(3949);class s{constructor(){this.boardSize=8,this.container=null,this.boardEl=null,this.cells=[],this.cellClickListeners=[],this.cellEnterListeners=[],this.cellLeaveListeners=[],this.newGameListeners=[],this.saveGameListeners=[],this.loadGameListeners=[]}bindToDOM(t){if(!(t instanceof HTMLElement))throw new Error("container is not HTMLElement");this.container=t}drawUi(t){this.checkBinding(),this.container.innerHTML='\n      <div class="controls">\n        <button data-id="action-restart" class="btn">New Game</button>\n        <button data-id="action-save" class="btn">Save Game</button>\n        <button data-id="action-load" class="btn">Load Game</button>\n      </div>\n      <div class="board-container">\n        <div data-id="board" class="board"></div>\n      </div>\n    ',this.newGameEl=this.container.querySelector("[data-id=action-restart]"),this.saveGameEl=this.container.querySelector("[data-id=action-save]"),this.loadGameEl=this.container.querySelector("[data-id=action-load]"),this.newGameEl.addEventListener("click",(t=>this.onNewGameClick(t))),this.saveGameEl.addEventListener("click",(t=>this.onSaveGameClick(t))),this.loadGameEl.addEventListener("click",(t=>this.onLoadGameClick(t))),this.boardEl=this.container.querySelector("[data-id=board]"),this.boardEl.classList.add(t);for(let t=0;t<this.boardSize**2;t+=1){const e=document.createElement("div");e.classList.add("cell","map-tile",`map-tile-${a(t,this.boardSize)}`),e.addEventListener("mouseenter",(t=>this.onCellEnter(t))),e.addEventListener("mouseleave",(t=>this.onCellLeave(t))),e.addEventListener("click",(t=>this.onCellClick(t))),this.boardEl.appendChild(e)}this.cells=Array.from(this.boardEl.children)}redrawPositions(t){for(const t of this.cells)t.innerHTML="";for(const r of t){const t=this.boardEl.children[r.position],a=document.createElement("div");a.classList.add("character",r.character.type);const s=document.createElement("div");s.classList.add("health-level");const n=document.createElement("div");n.classList.add("health-level-indicator","health-level-indicator-"+((e=r.character.health)<15?"critical":e<50?"normal":"high")),n.style.width=`${r.character.health}%`,s.appendChild(n),a.appendChild(s),t.appendChild(a)}var e}addCellEnterListener(t){this.cellEnterListeners.push(t)}addCellLeaveListener(t){this.cellLeaveListeners.push(t)}addCellClickListener(t){this.cellClickListeners.push(t)}addNewGameListener(t){this.newGameListeners.push(t)}addSaveGameListener(t){this.saveGameListeners.push(t)}addLoadGameListener(t){this.loadGameListeners.push(t)}onCellEnter(t){t.preventDefault();const e=this.cells.indexOf(t.currentTarget);this.cellEnterListeners.forEach((t=>t.call(null,e)))}onCellLeave(t){t.preventDefault();const e=this.cells.indexOf(t.currentTarget);this.cellLeaveListeners.forEach((t=>t.call(null,e)))}onCellClick(t){const e=this.cells.indexOf(t.currentTarget);this.cellClickListeners.forEach((t=>t.call(null,e)))}onNewGameClick(t){t.preventDefault(),this.newGameListeners.forEach((t=>t.call(null)))}onSaveGameClick(t){t.preventDefault(),this.saveGameListeners.forEach((t=>t.call(null)))}onLoadGameClick(t){t.preventDefault(),this.loadGameListeners.forEach((t=>t.call(null)))}static showError(t){alert(t)}static showMessage(t){alert(t)}selectCell(t,e="yellow"){this.deselectCell(t),this.cells[t].classList.add("selected",`selected-${e}`)}deselectCell(t){const e=this.cells[t];e.classList.remove(...Array.from(e.classList).filter((t=>t.startsWith("selected"))))}showCellTooltip(t,e){this.cells[e].title=t}hideCellTooltip(t){this.cells[t].title=""}showDamage(t,e){return new Promise((r=>{const a=this.cells[t],s=document.createElement("span");s.textContent=e,s.classList.add("damage"),a.appendChild(s),s.addEventListener("animationend",(()=>{a.removeChild(s),r()}))}))}setCursor(t){this.boardEl.style.cursor=t}checkBinding(){if(null===this.container)throw new Error("GamePlay not bind to DOM")}}r(2577),r(1454),r(7550);class n{constructor(t){this.characters=t}}function*i(t,e){for(;;){const r=Math.floor(Math.random()*(e-1+1))+1,a=0,s=t.length-1,n=t[Math.floor(Math.random()*(s-a+1))+a];yield new n(r)}}const o={prairie:"prairie",desert:"desert",arctic:"arctic",mountain:"mountain"};class l{constructor(t,e="generic"){if(this.level=t,this.attack=0,this.defence=0,this.health=50,this.type=e,"Character"===new.target.name)throw new Error("Character cannot be created")}}class c extends l{constructor(t){super(t,"bowman"),this.attack=25,this.defence=25}}class h extends l{constructor(t){super(t,"swordsman"),this.attack=40,this.defence=10}}class u extends l{constructor(t){super(t,"magician"),this.attack=10,this.defence=40}}class d extends l{constructor(t){super(t,"vampire"),this.attack=25,this.defence=25}}class f extends l{constructor(t){super(t,"undead"),this.attack=40,this.defence=10}}class p extends l{constructor(t){super(t,"daemon"),this.attack=10,this.defence=10}}class m{constructor(t,e){if(!(t instanceof l))throw new Error("character must be instance of Character or its children");if("number"!=typeof e)throw new Error("position must be a number");this.character=t,this.position=e}}const v={auto:"auto",pointer:"pointer",crosshair:"crosshair",notallowed:"not-allowed"};class y{static from(t){return t}}const g=new s;g.bindToDOM(document.querySelector("#game-container"));const b=new class{constructor(t){this.storage=t}save(t){this.storage.setItem("state",JSON.stringify(t))}load(){try{return JSON.parse(this.storage.getItem("state"))}catch(t){throw new Error("Invalid state")}}}(localStorage),C=new class{constructor(t,e){this.gamePlay=t,this.stateService=e,this.allowableMovementCells=[],this.allowableAttackCells=[],this.state={},this.userCharacters=["bowman","swordsman","magician"]}init(){this.gamePlay.addCellEnterListener(this.onCellEnter.bind(this)),this.gamePlay.addCellLeaveListener(this.onCellLeave.bind(this)),this.gamePlay.addCellClickListener(this.onCellClick.bind(this)),this.gamePlay.addNewGameListener(this.onNewGameClick.bind(this)),this.gamePlay.addSaveGameListener(this.onSaveGameClick.bind(this)),this.gamePlay.addLoadGameListener(this.onLoadGameClick.bind(this)),this.startGame()}startGame(){const{prairie:t}=o;this.gamePlay.drawUi(t),this.state=y.from({level:1,userTurn:!0,allPositionedCharacters:[],points:0,maxPoints:Number(this.stateService.load()?.maxPoints)||0});const{boardSize:e}=this.gamePlay,r=[c,h,u],a=[d,f,p],s=e-2;this.state.allPositionedCharacters=[...this.drawTeam(r,1,2,0),...this.drawTeam(a,1,2,s)],this.gamePlay.redrawPositions(this.state.allPositionedCharacters)}onNewGameClick(){0===this.gamePlay.cellClickListeners.length&&(this.gamePlay.addCellEnterListener(this.onCellEnter.bind(this)),this.gamePlay.addCellLeaveListener(this.onCellLeave.bind(this)),this.gamePlay.addCellClickListener(this.onCellClick.bind(this)),this.gamePlay.addSaveGameListener(this.onSaveGameClick.bind(this))),this.startGame()}onSaveGameClick(){this.stateService.save(this.state),s.showMessage("The game is saved")}onLoadGameClick(){const t=this.stateService.load();if(t?.level){this.state=t,0===this.gamePlay.cellClickListeners.length&&(this.gamePlay.addCellEnterListener(this.onCellEnter.bind(this)),this.gamePlay.addCellLeaveListener(this.onCellLeave.bind(this)),this.gamePlay.addCellClickListener(this.onCellClick.bind(this)),this.gamePlay.addSaveGameListener(this.onSaveGameClick.bind(this)));const{prairie:e,desert:r,arctic:a,mountain:s}=o;1===this.state.level?this.gamePlay.drawUi(e):2===this.state.level?this.gamePlay.drawUi(r):3===this.state.level?this.gamePlay.drawUi(a):4===this.state.level&&this.gamePlay.drawUi(s),this.gamePlay.redrawPositions(this.state.allPositionedCharacters);const n=this.gamePlay.cells.findIndex((t=>t.classList.contains("selected-yellow")));-1!==n&&this.gamePlay.deselectCell(n)}else s.showError("The saved game was not found")}onCellClick(t){const{auto:e}=v,r=this.state.userTurn?["bowman","swordsman","magician"]:["vampire","undead","daemon"],a=this.state.userTurn?["vampire","undead","daemon"]:["bowman","swordsman","magician"],n=this.gamePlay.cells[t],i=n.querySelector(".character"),l=this.gamePlay.cells.findIndex((t=>t.classList.contains("selected-yellow")));if(i&&r.some((t=>i.classList.contains(t)))){-1!==l&&this.gamePlay.deselectCell(l),this.gamePlay.selectCell(t),this.gamePlay.setCursor(e);const r=["bowman","swordsman","magician","vampire","undead","daemon"].find((t=>n.querySelector(`.${t}`)));this.getRadiusesOfMovementAndAttack(t,r)}if(-1!==l){const r=this.allowableAttackCells.find((e=>e===t)),n=this.allowableMovementCells.find((e=>e===t));if(i){if(a.find((t=>i.classList.contains(t))))if(void 0!==r){const r=this.state.allPositionedCharacters.find((t=>t.position===l)),a=this.state.allPositionedCharacters.find((e=>e.position===t)),n=this.state.allPositionedCharacters.findIndex((e=>e.position===t)),{attack:i}=r.character,{defence:m}=a.character;let v=Math.max(i-m,.1*i);v%1!=0&&(v=Number(v.toFixed(2)));const{userTurn:y}=this.state;this.gamePlay.showDamage(t,v).then((()=>{this.state.userTurn=y;let r=this.state.allPositionedCharacters[n].character.health;r-=v,r%1!=0&&(r=Number(r.toFixed(2))),this.state.allPositionedCharacters[n].character.health=r,r<=0&&(this.gamePlay.deselectCell(t),this.state.allPositionedCharacters.splice(n,1),this.gamePlay.hideCellTooltip(t),this.state.userTurn?this.state.points+=100:this.state.points-=100),this.state.allPositionedCharacters.find((t=>this.userCharacters.find((e=>t.character.type===e))))||(s.showMessage("You lost!"),this.gamePlay.cellClickListeners=[],this.gamePlay.cellEnterListeners=[],this.gamePlay.cellLeaveListeners=[],this.gamePlay.saveGameListeners=[],this.gamePlay.setCursor(e),this.gamePlay.deselectCell(t));const a=["vampire","undead","daemon"];let i;if(!this.state.allPositionedCharacters.find((t=>a.find((e=>t.character.type===e)))))if(this.state.level<4){this.state.level+=1,this.state.allPositionedCharacters.forEach(((t,e)=>{const{attack:r,defence:a,health:s}=t.character;this.state.allPositionedCharacters[e].character.attack=Math.max(r,r*(80+s)/100),this.state.allPositionedCharacters[e].character.defence=Math.max(a,a*(80+s)/100),this.state.allPositionedCharacters[e].character.health+=80,this.state.allPositionedCharacters[e].character.attack%1!=0&&(this.state.allPositionedCharacters[e].character.attack=Number(this.state.allPositionedCharacters[e].character.attack.toFixed(2))),this.state.allPositionedCharacters[e].character.defence%1!=0&&(this.state.allPositionedCharacters[e].character.defence=Number(this.state.allPositionedCharacters[e].character.defence.toFixed(2))),this.state.allPositionedCharacters[e].character.health>100&&(this.state.allPositionedCharacters[e].character.health=100),this.state.allPositionedCharacters[e].character.level+=1}));const{desert:t,arctic:e,mountain:r}=o;2===this.state.level?this.gamePlay.drawUi(t):3===this.state.level?this.gamePlay.drawUi(e):4===this.state.level&&this.gamePlay.drawUi(r);const{boardSize:a}=this.gamePlay,s=[c,h,u],n=[d,f,p],i=0,l=a-2,m=this.state.level+1,v=m-this.state.allPositionedCharacters.length;this.state.allPositionedCharacters.push(...this.drawTeam(s,this.state.level,v,i),...this.drawTeam(n,this.state.level,m,l))}else{this.gamePlay.cellClickListeners=[],this.gamePlay.cellEnterListeners=[],this.gamePlay.cellLeaveListeners=[],this.gamePlay.saveGameListeners=[],this.gamePlay.setCursor(e),this.gamePlay.deselectCell(t),this.gamePlay.deselectCell(l),i=!0;const r=this.stateService.load();r?(r.maxPoints=Math.max(r.maxPoints,this.state.points),this.stateService.save(r)):this.stateService.save({maxPoints:this.state.points}),s.showMessage(`You win! Points scored: ${this.state.points}. Maximum number of points: ${r?.maxPoints||this.state.points}`)}const m=this.gamePlay.cells.findIndex((t=>t.classList.contains("selected-green")));-1!==m&&this.gamePlay.deselectCell(m),this.gamePlay.redrawPositions(this.state.allPositionedCharacters),this.state.userTurn=!!i||!this.state.userTurn,this.state.userTurn||this.doComputerActions()}),(t=>s.showError(t)))}else s.showError("Unacceptable action")}else if(void 0!==n){const e=this.state.allPositionedCharacters.findIndex((t=>t.position===l));this.state.allPositionedCharacters[e].position=t,this.gamePlay.redrawPositions(this.state.allPositionedCharacters),this.allowableMovementCells=[],this.allowableAttackCells=[],this.gamePlay.deselectCell(l),this.gamePlay.deselectCell(t),this.state.userTurn=!this.state.userTurn,!this.state.userTurn&&this.state.level<=4&&this.doComputerActions()}else s.showError("Unacceptable action")}else i?a.some((t=>i.classList.contains(t)))&&s.showError("You cannot select an opponent's character"):s.showError("The character was not found")}onCellEnter(t){const{pointer:e,crosshair:r,notallowed:a}=v,s=this.gamePlay.cells[t].querySelector(".character");s&&this.gamePlay.showCellTooltip(this.getTooltipMessage(t),t),-1!==this.gamePlay.cells.findIndex((t=>t.classList.contains("selected-yellow")))?s?this.userCharacters.some((t=>s.classList.contains(t)))?s.closest(".selected-yellow")||this.gamePlay.setCursor(e):this.allowableAttackCells.includes(t)?(this.gamePlay.selectCell(t,"red"),this.gamePlay.setCursor(r)):this.gamePlay.setCursor(a):this.allowableMovementCells.includes(t)?(this.gamePlay.selectCell(t,"green"),this.gamePlay.setCursor(e)):this.gamePlay.setCursor(a):s&&this.userCharacters.some((t=>s.classList.contains(t)))&&this.gamePlay.setCursor(e)}onCellLeave(t){const{auto:e}=v,r=this.gamePlay.cells[t].querySelector(".character");r&&this.gamePlay.hideCellTooltip(t);const a=this.gamePlay.cells.findIndex((t=>t.classList.contains("selected-yellow")));-1!==a?r?this.userCharacters.some((t=>r.classList.contains(t)))?r.closest(".selected-yellow")||this.gamePlay.setCursor(e):(this.gamePlay.deselectCell(t),this.gamePlay.setCursor(e)):t!==a?(this.gamePlay.deselectCell(t),this.gamePlay.setCursor(e)):this.gamePlay.setCursor(e):r&&this.userCharacters.some((t=>r.classList.contains(t)))&&this.gamePlay.setCursor(e)}drawTeam(t,e,r,a){const{boardSize:s}=this.gamePlay,o=s**2-1,l=function(t,e,r){const a=[];for(let s=1;s<=r;s+=1)a.push(i(t,e).next().value);return new n(a)}(t,e,r);l.characters.forEach(((t,e)=>{if(t.level>1)for(let r=2;r<=t.level;r+=1){const{attack:r,defence:a,health:s}=t;l.characters[e].attack=Math.max(r,r*(80+s)/100),l.characters[e].defence=Math.max(a,a*(80+s)/100),l.characters[e].health+=80,l.characters[e].attack%1!=0&&(l.characters[e].attack=Number(l.characters[e].attack.toFixed(2))),l.characters[e].defence%1!=0&&(l.characters[e].defence=Number(l.characters[e].defence.toFixed(2))),l.characters[e].health>100&&(l.characters[e].health=100)}}));const c=[];for(let t=0;t<=o;t+=1)t%s!==a&&t%s!==a+1||!this.state.allPositionedCharacters.find((e=>e.position===t))&&c.push(t);const h=[];return l.characters.forEach((t=>{const e=c[Math.floor(Math.random()*c.length)],r=c.indexOf(e),a=new m(t,e);h.push(a),c.splice(r,1)})),h}getTooltipMessage(t){const e=this.state.allPositionedCharacters.find((e=>e.position===t)),{level:r,attack:a,defence:s,health:n}=e.character;return`🎖${r} ⚔${a} 🛡${s} ❤${n}`}getRadiusesOfMovementAndAttack(t,e){const r=this.getXYOfCell(t),{boardSize:a}=this.gamePlay,s={bowman:2,swordsman:4,magician:1,vampire:2,undead:4,daemon:1}[e];this.allowableMovementCells=[];for(let e=1;e<=s;e+=1){const s=r.y-e<0,n=r.x+e>=a,i=r.y+e>=a,o=r.x-e<0;s||this.allowableMovementCells.push(t-a*e),n||this.allowableMovementCells.push(t+e),i||this.allowableMovementCells.push(t+a*e),o||this.allowableMovementCells.push(t-e),s||n||this.allowableMovementCells.push(t-(a-1)*e),i||n||this.allowableMovementCells.push(t+(a+1)*e),i||o||this.allowableMovementCells.push(t+(a-1)*e),s||o||this.allowableMovementCells.push(t-(a+1)*e)}this.allowableMovementCells.forEach(((t,e)=>{const r=this.gamePlay.cells[t]?.querySelector(".character");r&&this.allowableMovementCells.splice(e,1)}));const n={bowman:2,swordsman:1,magician:4,vampire:2,undead:1,daemon:4}[e];this.allowableAttackCells=[];const i=r.y,o=a-1-r.x,l=a-1-r.y,c=r.x,h=i<n?i:n,u=o<n?o:n,d=l<n?l:n,f=c<n?c:n,p=t-a*h-f;for(let t=1;t<=h+d+1;t+=1)for(let e=0;e<=f+u;e+=1)this.allowableAttackCells.push(p+(a*t-a)+e);const m=this.allowableAttackCells.indexOf(t);this.allowableAttackCells.splice(m,1)}getXYOfCell(t){const{boardSize:e}=this.gamePlay,r=t%e;return{x:r,y:(t-r)/e}}doComputerActions(){const{boardSize:t}=this.gamePlay,e=["vampire","undead","daemon"],r=this.state.allPositionedCharacters.filter((t=>this.userCharacters.find((e=>t.character.type===e)))),a=this.state.allPositionedCharacters.filter((t=>e.find((e=>t.character.type===e)))),s=[];if(a.forEach((t=>{this.onCellClick(t.position),this.getRadiusesOfMovementAndAttack(t.position,t.character.type);const e=r.filter((t=>+this.allowableAttackCells.find((e=>t.position===e))>=0)),a=[];e.length>0&&(e.forEach((e=>{a.push({attacker:t,target:e})})),s.push(...a))})),s.length>0){let t,e=0;s.forEach(((r,a)=>{const{attack:s}=r.attacker.character,{defence:n}=r.target.character,i=Math.max(s-n,.1*s);i>e&&(e=i,t=a)})),this.onCellClick(s[t].attacker.position),this.onCellClick(s[t].target.position),this.gamePlay.deselectCell(s[t].attacker.position),this.gamePlay.deselectCell(s[t].target.position)}else{const e=a.find((t=>"undead"===t.character.type)),s=a.find((t=>"vampire"===t.character.type)),n=a.find((t=>"daemon"===t.character.type));let i;e?i=e:s?i=s:n&&(i=n),this.onCellClick(i.position),this.getRadiusesOfMovementAndAttack(i.position,i.character.type);const o={vampire:2,undead:4,daemon:1},l=this.getXYOfCell(i.position),c=r.map((t=>this.getXYOfCell(t.position))),h=c.find((t=>l.x===t.x)),u=c.find((t=>l.y===t.y));let d,f,p;const m=o[i.character.type];if(h)f=l.y-h.y,p=f>0?i.position-(f>m?m*t:(f-1)*t):i.position+(Math.abs(f)>m?m*t:(Math.abs(f)-1)*t);else if(u)d=l.x-u.x,p=d>0?i.position-(d>m?m:d-1):i.position+(Math.abs(d)>m?m:Math.abs(d)-1);else{const t=Math.floor(Math.random()*this.allowableMovementCells.length);p=this.allowableMovementCells[t]}const v=this.gamePlay.cells[p].querySelector(".character");if(p===i.position||v){const t=Math.floor(Math.random()*this.allowableMovementCells.length);p=this.allowableMovementCells[t]}this.onCellClick(p)}}}(g,b);C.init()})();